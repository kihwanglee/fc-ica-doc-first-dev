# 8단계: 유지보수 프롬프트

> 프로젝트 운영 중 발생하는 변경 요청, 검증, 문제 해결을 위한 프롬프트입니다.

---

## 8-1. 변경 요청 프롬프트 템플릿

기능을 추가하거나 변경할 때 사용하는 범용 프롬프트:

```
[기능/변경 사항 설명]

다음 순서로 작업해줘:
1. docs/01-requirements/PRD.md 에 기능 추가
2. docs/01-requirements/user-stories.md 에 스토리 추가
3. 영향받는 설계 문서 업데이트 (API, DB 등)
4. 코드 구현
5. docs/04-implementation/changelog.md 에 변경 이력 기록

각 단계마다 변경 사항을 보여주고, 승인 받은 후 다음 단계로 진행해줘.
```

---

## 8-2. 문서-코드 일치성 검증 프롬프트

```
현재 구현된 코드가 다음 문서들과 일치하는지 검증해줘:
- docs/03-architecture/api-design.md
- docs/03-architecture/database-schema.md

다음 항목을 확인해줘:
1. API 엔드포인트가 문서와 일치하는가?
2. 요청/응답 스키마가 문서와 일치하는가?
3. DB 모델이 스키마 문서와 일치하는가?
4. 에러 코드가 문서에 정의된 대로 사용되는가?

불일치 사항이 있으면 목록으로 정리해줘.
```

---

## 8-3. 버그 수정 프롬프트

```
다음 버그를 수정해줘:

**버그 설명:**
[구체적인 버그 증상]

**재현 방법:**
1. [단계 1]
2. [단계 2]
...

**예상 동작:**
[정상 동작 설명]

**실제 동작:**
[버그 동작 설명]

**에러 로그 (있는 경우):**
[에러 메시지]

다음 순서로 작업해줘:
1. 원인 분석 (관련 코드 확인)
2. 수정 방안 제시 (여러 옵션이 있다면 비교)
3. 코드 수정
4. 수정 사항이 문서와 불일치하면 문서도 업데이트
5. docs/bugfix/bugfix-log.md에 버그 수정 이력 기록
```

---

## 8-4. 리팩토링 프롬프트

```
다음 코드를 리팩토링해줘:

**파일 경로:**
[파일 경로]

**리팩토링 목표:**
[가독성 향상 / 성능 개선 / 중복 제거 / 유지보수성 향상 등]

**제약 조건:**
- 기존 API 계약을 변경하지 말 것
- 기존 테스트가 모두 통과해야 함
- 문서에 정의된 동작을 유지할 것

리팩토링 전후 비교와 함께 제시해줘.
```

---

## 8-5. 성능 최적화 프롬프트

```
다음 부분의 성능을 최적화해줘:

**대상:**
[API 엔드포인트 / DB 쿼리 / 프론트엔드 컴포넌트 등]

**현재 성능:**
[응답 시간 / 쿼리 실행 시간 등]

**목표 성능:**
[목표 수치]

**병목 지점 (파악된 경우):**
[N+1 쿼리 / 불필요한 렌더링 / 큰 데이터 전송 등]

다음을 포함해서 답변해줘:
1. 성능 문제 원인 분석
2. 최적화 방안 (여러 옵션 제시)
3. 코드 변경
4. 예상 성능 개선 효과
5. 트레이드오프 (있는 경우)
```

---

## 8-6. 보안 점검 프롬프트

```
다음 코드의 보안 취약점을 점검해줘:

**대상:**
[전체 프로젝트 / 특정 모듈]

**확인 항목:**
1. SQL Injection 취약점
2. XSS (Cross-Site Scripting) 취약점
3. CSRF 보호 여부
4. 민감한 정보 노출 (환경 변수, 시크릿)
5. 인증/인가 누락
6. 안전하지 않은 직렬화/역직렬화
7. 레이트 리밋 설정
8. CORS 설정

발견된 취약점과 수정 방안을 제시해줘.
```

---

## 8-7. 의존성 업데이트 프롬프트

```
프로젝트의 의존성(라이브러리)을 최신 버전으로 업데이트해줘.

**대상:**
[전체 / 특정 라이브러리]

**확인 사항:**
1. Breaking changes 확인
2. 변경된 API 사용법 업데이트
3. 테스트 실행 및 통과 확인
4. 문서에 버전 정보 업데이트

주요 변경 사항과 마이그레이션 가이드를 제공해줘.
```

---

## 8-8. 문서 업데이트 프롬프트

```
다음 문서를 현재 코드 상태에 맞게 업데이트해줘:

**문서 경로:**
[docs/... 경로]

**업데이트 이유:**
[코드 변경 / 기능 추가 / 오류 수정 등]

**확인 사항:**
1. 코드와 문서의 일치성
2. 예시 코드 동작 확인
3. 링크 유효성 확인
4. 용어 일관성 확인

변경된 부분을 명확히 표시해줘.
```
